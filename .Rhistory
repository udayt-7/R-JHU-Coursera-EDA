`wdkm`
e)
ws
library("swirl")
swirl()
heatmap(dataMatrix)
myedit("addPatt.R")
source("addPatt.R", local = TRUE)
heatmap(data.matrix())
heatmap(dataMatrix)
mat
svD(mat)
svd(mat)
matu * diag * t(matv)
matu %*% diag %*% t(matv)
svd(scale(mat))
prcomp(scale(mat))
svd1$v[,1]
svd1$d
head(constantMatrix)
svd2(d)
svd2$d
svd2
svd2$v[,1:2]
svd2$d
dim(faceData)
a1 <- svd1$u %*% svd1$d %*% svd1$v
a1
svd1$d[1]
a1 <- (svd$u[,1] * svd1$d[1]) %*% t(svd1$v[,1])
a1 <- (svd1$u[,1] * svd1$d[1]) %*% t(svd1$v[,1])
myImage(a1)
a2 <- svd1$u[,1] * svd1$u[,2]
a2 <- svd1$u[1:2] %*% diag(svd1$d[1:2]) %*% t(svd$v[,1:2])
a2 <- svd1$u[1:2] %*% diag(svd1$d[1:2]) %*% t(svd1$v[,1:2])
a2 <- svd1$u[,1:2] %*% diag(svd1$d[1:2]) %*% t(svd1$v[,1:2])
myImage(a2)
a2 <- myImage()
a2
v
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]))
myImage(svd1$u[,1:10] %*% diag(svd1$d[1:10]) %*% t(svd1$v[,1:5]))
myImage(svd1$u[,1:10] %*% diag(svd1$d[1:10]) %*% t(svd1$v[,1:10]))
library("swirl")
swirl()
pm0
dim(pm0)
head(pm0)
cnames()
cnames(pm0)
cnames
cnames <- strsplit(cnames, '|', fixed = TRUE)
cnames
names(pm0)
names(pm0) <- make.names(cnames[[1]][wcol])
head(pm0)
pm0$Sample.Value <- x0
x0 <- pm0$Sample.Value
x0
str(x0)
is.na(x0)
mean(is.na(x0))
names(pm1) <- make.names(cnames[[1]], wcol)
names(pm1) <- make.names(cnames[[1]],[wcol])
names(pm1) <- make.names(cnames[[1]][wcol])
dim(pm1)
x1 <- pm1$Sample.Value
mean(is.na(x1))
summary(x0)
summary(x1)
boxplot(x0,x1)
boxplot(log10(x0), log10(x1))
negative <- x1<0
sum(negative, na.rm = TRUE'')
sum(negative, na.rm = TRUE)
sum()
mean(negative, na.rm = TRUE)
dates
dates <- pm1$Date
str(dates)
dates <- as.Date(aas.character(dates), )
dates <- as.Date(aas.character(dates), "%Y%m%d")
dates <- as.Date(as.character(dates), "%Y%m%d")
dates
head(dates)
hist(dates[negative], "month")
str(site0)
intersect(site0, site1)
both <- intersect(site0, site1)
both
head(pm0)
cnt0 <- subset(pm0, State.c0)
subset()
cnt0 < subset()
cnt0 < subset(pm0)
subset(pm0)
cnt0 <- subset()
cnt0 <- subset(pm0, State.code == 36 & count.site %in%both)
cnt0 <- subset(pm0, State.Code == 36 & county.site %in%both)
cnt1 <- subset(pm1, State.Code == 36 & county.site %in%both)
sapply(cnt0, cnt0$county.site)
sapply(split(cnt0, cnt0$county.site), nrow)
sapply(split(cnt1, cnt0$county.site), nrow)
sapply(split(cnt1, cnt1$county.site), nrow)
pm0sub <- subset(cnt0, County.Code == 63 & Site.ID == 2008)
pm1sub <- subset(cnt1, County.Code == 63 & Site.ID == 2008)
x0sub <- pm0sub$Sample.Value
x1sub <- pm1sub$Sample.Value
dates0 <- as.Date(as.character(pm0sub$Date), "%Y%m%d")
dates1 <- as.Date(as.character(pm1sub$Date), "%Y%m%d")
par(mfrow = c(1,2))
par(mfrow = c(1,2), mar = c(4,4,2,1))
plot(dates0, x0sub, pch = 20)
abline(h, median(x0sub), na.rm  = TRUE )
abline( median(x0sub), na.rm  = TRUE )
abline()
abline(h = median(x0sub, na.rm  = TRUE), lwd = 2)
plot(dates1, x1sib, pch =20)
plot(dates1, x1sub, pch =20)
abline(h = median(x1sub, na.rm  = TRUE), lwd = 2)
rng c(10,40)
rng <-  c(10,40)
rng <- range(x0sub, x1sub, na.rm = TRUE)
rng
mn0 <-
sd
s
mn0 <- with(pm0, tapply(Sample.value, State.Code, mean, na.rm = TRUE))
mn0 <- with(pm0, tapply(Sample.Value, State.Code, mean, na.rm = TRUE))
str(mn0)
mn1 <- with(pm1, tapply(Sample.Value, State.Code, mean, na.rm = TRUE))
str(m1)
str(mn1)
summary(mn0)
summary(mn1)
data.frame(state = names(mn0), mean = mn0)
d0 <- data.frame(state = names(mn0), mean = mn0)
d1 <- data.frame(state = names(mn1), mean = mn0)
d1 <- data.frame(state = names(mn1), mean = mn1)
mrg <- merge(d0,d1, by = 'state')
dim(mrg)
head(mrg)
with(mrg, plot(rep(1,52), mrg[,2], xlim = c(0.5,2.5)))
with(mrg, plot(rep(1,52), mrg[,3], xlim = c(0.5,2.5)))
with(mrg, plot(rep(2,52), mrg[,3], xlim = c(0.5,2.5)))
with(mrg, points(rep(2,52), mrg[,3]))
segments()
segments(x, y)
segments()
segments(rep())
df
segments(rep(1,52), mrg[,2], rep(2,52), mrg[,2])
segments(rep(1,52), mrg[,2], rep(2,52), mrg[,3])
mrg[mrg$mean.x < mrg$mean.y]
mrg[mrg$mean.x < mrg$mean.y,]
setwd('C:\\Users\\udat\\Desktop\\Rdata')
NEI <- readRDS("summarySCC_PM25.rds")
setwd('C:\\Users\\udat\\Desktop\\Rdata\\JHU_EDA')
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
table(NEI$year)
aggregatedTotalByYear <- aggregate(Emissions ~ year, NEI, sum)
png('plot1.png')
barplot(height=aggregatedTotalByYear$Emissions,
names.arg=aggregatedTotalByYear$year,
xlab="years",
ylab=expression('total PM'[2.5]*' emission'),
main=expression('Total PM'[2.5]*' emissions at various years'))
dev.off()
png('plot1.png')
barplot(height=aggregatedTotalByYear$Emissions,
names.arg=aggregatedTotalByYear$year,
xlab="years",
ylab=expression('total PM'[2.5]*' emission'),
main=expression('Total PM'[2.5]*' emissions at various years'))
dev.off()
#Working Directory
setwd('C:\\Users\\udat\\Desktop\\Rdata\\JHU_EDA')
#Reading Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#Extracting resources
table(NEI$year)
totalyear <- aggregate(Emissions ~ year, NEI, sum)
#Plot
png('plot1.png')
barplot(height=totalyear$Emissions,
names.arg=totalyear$year,
xlab="Years",
ylab=expression('PM 2.5 emissions'),
main=expression('Total PM 2.5 emissions at various years'))
dev.off()
#Plot
png('plot1.png')
barplot(height=totalyear$Emissions,
names.arg=totalyear$year,
xlab="Years",
ylab=expression('PM 2.5 emissions'),
main=expression('Total PM 2.5 emissions along years'))
dev.off()
#Working Directory
setwd('C:\\Users\\udat\\Desktop\\Rdata\\JHU_EDA')
#Reading Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#Extracting resources
subsetNEI  <- NEI[NEI$fips=="24510", ]
aggregatedTotalByYear <- aggregate(Emissions ~ year, subsetNEI, sum)
#Plot
png('plot2.png')
barplot(height=aggregatedTotalByYear$Emissions,
names.arg=aggregatedTotalByYear$year,
xlab="years",
ylab=expression('total PM'[2.5]*' emission'),
main=expression('Total PM'[2.5]*' in the Baltimore City, MD emissions at various years'))
dev.off()
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#Extracting resources
subsetNEI  <- NEI[NEI$fips=="24510", ]
TotalYear2 <- aggregate(Emissions ~ year, subsetNEI, sum)
#Plot
png('plot2.png')
barplot(height = TotalYear2$Emissions,
names.arg = TotalYear2$year,
xlab = "Years",
ylab = expression('Total PM 2.5 emissions'),
main = expression('Total PM 2.5 in Baltimore along years'))
dev.off()
#Reading Data
table(NEI$type[NEI$fips=="24510"])
table(NEI$fips[NEI$fips=="24510"])
#Subsetting
subsetNEI  <- NEI[NEI$fips=="24510", ]
aggregatedTotalByYearAndType <- aggregate(Emissions ~ year + type, subsetNEI, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot3.png", width=640, height=480)
g <- ggplot(aggregatedTotalByYearAndType, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("year") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
library("ggplot2")
png("plot3.png", width=640, height=480)
g <- ggplot(aggregatedTotalByYearAndType, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("year") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
#Working Directory
setwd('C:\\Users\\udat\\Desktop\\Rdata\\JHU_EDA')
#Reading Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#Subsetting and Extracting Data
NEISCC <- merge(NEI, SCC, by="SCC")
coalMatches  <- grepl("coal", NEISCC$Short.Name, ignore.case=TRUE)
subsetNEISCC <- NEISCC[coalMatches, ]
head(subsetNEISCC)
aggregatedTotalByYear <- aggregate(Emissions ~ year, subsetNEISCC, sum)
#Making the plot with ggplot2 plotting system
library("ggplot2")
png("plot4.png", width=640, height=480)
g <- ggplot(aggregatedTotalByYear, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("year") +
ylab(expression('Total PM'[2.5]*" Emissions")) +
ggtitle('Total Emissions from coal sources from 1999 to 2008')
print(g)
dev.off()
png('plot2.png')
barplot(height = TotalYear2$Emissions,
names.arg = TotalYear2$year,
xlab = "Years",
ylab = expression('Total PM 2.5 emissions'),
main = expression('Total PM 2.5 in Baltimore along years'))
dev.off()
library("ggplot2")
png("plot3.png")
g <- ggplot(aggregatedTotalByYearAndType, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
#Plotting with ggplot2
library("ggplot2")
png("plot4.png")
g <- ggplot(aggregatedTotalByYear, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions from Coal')
print(g)
dev.off()
TotalByYearAndType <- aggregate(Emissions ~ year + type, subsetNEI, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot3.png")
g <- ggplot(TotalByYearAndType, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
coalMatches  <- grepl("coal", NEISCC$Short.Name, ignore.case=TRUE)
subsetNEISCC <- NEISCC[coalMatches, ]
TotalYear3 <- aggregate(Emissions ~ year, subsetNEISCC, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot4.png")
g <- ggplot(TotalYear3, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions from Coal')
print(g)
dev.off()
# Searching for ON-ROAD type
subsetNEI <- NEI[NEI$fips=="24510" & NEI$type=="ON-ROAD",  ]
aggregatedTotalByYear <- aggregate(Emissions ~ year, subsetNEI, sum)
#Plotting with ggplot 2
library("ggplot2")
png("plot5.png", width=840, height=480)
g <- ggplot(aggregatedTotalByYear, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("year") +
ylab(expression('Total PM'[2.5]*" Emissions")) +
ggtitle('Total Emissions from motor vehicle in Baltimore City, Maryland from 1999 to 2008')
print(g)
dev.off()
# Searching for ON-ROAD type
subsetNEI <- NEI[NEI$fips=="24510" & NEI$type=="ON-ROAD",  ]
aggregatedTotalByYear <- aggregate(Emissions ~ year, subsetNEI, sum)
#Plotting with ggplot 2
library("ggplot2")
png("plot5.png", width=840, height=480)
g <- ggplot(aggregatedTotalByYear, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("year") +
ylab(expression("Total PM2.5 Emissions")) +
ggtitle('Total Emissions from motor vehicle in Baltimore')
print(g)
dev.off()
TotalYearandType <- aggregate(Emissions ~ year + type, subsetNEI, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot3.png")
g <- ggplot(TotalYearandType, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
TotalYear3 <- aggregate(Emissions ~ year, subsetNEISCC, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot4.png")
g <- ggplot(TotalYear3, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions from Coal')
print(g)
dev.off()
TotalYear3 <- aggregate(Emissions ~ year + type, subsetNEI, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot3.png")
g <- ggplot(TotalYear3, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
TotalYear4 <- aggregate(Emissions ~ year, subsetNEISCC, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot4.png")
g <- ggplot(TotalYear4, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions from Coal')
print(g)
dev.off()
subsetNEI <- NEI[NEI$fips=="24510" & NEI$type=="ON-ROAD",  ]
TotalYear5 <- aggregate(Emissions ~ year, subsetNEI, sum)
#Plotting with ggplot 2
library("ggplot2")
png("plot5.png", width=840, height=480)
g <- ggplot(TotalYear5, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("year") +
ylab(expression("Total PM2.5 Emissions")) +
ggtitle('Total Emissions from motor vehicle in Baltimore')
print(g)
dev.off()
#Working Directory
setwd('C:\\Users\\udat\\Desktop\\Rdata\\JHU_EDA')
#Reading Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# merging the two data sets
NEISCC <- merge(NEI, SCC, by="SCC")
# ON-ROAD  in NEI
subsetNEI <- NEI[(NEI$fips=="24510"|NEI$fips=="06037") & NEI$type=="ON-ROAD",  ]
TotalYear6 <- aggregate(Emissions ~ year + fips, subsetNEI, sum)
TotalYear6$fips[TotalYear6$fips=="24510"] <- "BALTIMORE"
TotalYear6$fips[TotalYear6$fips=="06037"] <- "LOS ANGELES"
#Plotting with ggplot2
library("ggplot2")
png("plot6.png", width=1040, height=480)
g <- ggplot(TotalYear6, aes(factor(year), Emissions))
g <- g + facet_grid(. ~ fips)
g <- g + geom_bar(stat="identity")  +
xlab("year") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions from motor vehicle in Baltimore and Los Angeles')
print(g)
dev.off()
#Plotting with ggplot2
library("ggplot2")
png("plot6.png", width=1040, height=480)
g <- ggplot(TotalYear6, aes(factor(year), Emissions))
g <- g + facet_grid(. ~ fips)
g <- g + geom_bar(stat="identity")  +
xlab("year") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total P.M 2.5 Emissions from motor vehicles')
print(g)
dev.off()
library("ggplot2")
png("plot5.png", width=840, height=480)
g <- ggplot(TotalYear5, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("Years") +
ylab(expression("Total PM2.5 Emissions")) +
ggtitle('Total Emissions from motor vehicle in Baltimore')
print(g)
dev.off()
g <- g + geom_bar(stat="identity")  +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total P.M 2.5 Emissions from motor vehicles')
png("plot6.png", width=1040, height=480)
g <- ggplot(TotalYear6, aes(factor(year), Emissions))
g <- g + facet_grid(. ~ fips)
g <- g + geom_bar(stat="identity")  +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total P.M 2.5 Emissions from motor vehicles')
print(g)
dev.off()
png("plot6.png")
#Plotting with ggplot 2
library("ggplot2")
png("plot5.png")
g <- ggplot(TotalYear5, aes(factor(year), Emissions))
g <- g + geom_bar(stat="identity") +
xlab("Years") +
ylab(expression("Total PM2.5 Emissions")) +
ggtitle('Total Emissions from motor vehicle in Baltimore')
print(g)
dev.off()
library("ggplot2")
png("plot6.png")
g <- ggplot(TotalYear6, aes(factor(year), Emissions))
g <- g + facet_grid(. ~ fips)
g <- g + geom_bar(stat="identity")  +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total P.M 2.5 Emissions from motor vehicles')
print(g)
dev.off()
totalpm <- with(NEI, tapply(Emissions, year, sum))
head(totalpm)
ynames <- names(totalpm)
png(filename = "plotx.png")
p <- plot(ynames, totalpm, main = "Total US Emissions from 1999 to 2008", xlab = "Year", ylab = "Total PM2.5")
dev.off()
#Reading Data
#Working Directory
setwd('C:\\Users\\udat\\Desktop\\Rdata\\JHU_EDA')
#Reading Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
#Extracting Data
table(NEI$type[NEI$fips=="24510"])
table(NEI$fips[NEI$fips=="24510"])
#Subsetting
subsetNEI  <- NEI[NEI$fips=="24510", ]
TotalYear3 <- aggregate(Emissions ~ year + type, subsetNEI, sum)
#Plotting with ggplot2
library("ggplot2")
png("plot3.png")
g <- ggplot(TotalYear3, aes(year, Emissions, color = type))
g <- g + geom_line() +
xlab("Years") +
ylab(expression("Total PM 2.5 Emissions")) +
ggtitle('Total Emissions in Baltimore, Maryland')
print(g)
dev.off()
